# TPNOperaSDKAdapter

[![Version](https://img.shields.io/cocoapods/v/TPNOperaSDKAdapter.svg?style=flat)](https://cocoapods.org/pods/TPNOperaSDKAdapter)
[![Platform](https://img.shields.io/cocoapods/p/TPNOperaSDKAdapter.svg?style=flat)](https://cocoapods.org/pods/TPNOperaSDKAdapter)
[![Language](https://img.shields.io/badge/language-Objective--C-orange.svg)](https://developer.apple.com/objective-c/)

**TPNOperaSDKAdapter** æ˜¯ Opera Ads SDK çš„ **TopOn (AnyThink)** èšåˆé€‚é…å™¨ã€‚
é€šè¿‡é›†æˆæ­¤é€‚é…å™¨ï¼Œæ‚¨å¯ä»¥åœ¨ TopOn çš„èšåˆç€‘å¸ƒæµï¼ˆWaterfallï¼‰æˆ– Bidding ç³»ç»Ÿä¸­åŠ è½½å¹¶å±•ç¤º Opera çš„å¹¿å‘Šèµ„æºï¼Œä»è€Œæœ€å¤§åŒ–æ‚¨çš„å˜ç°æ”¶ç›Šã€‚

---

## ğŸ“‹ åŠŸèƒ½ç‰¹æ€§

- [x] æ”¯æŒ TopOn è‡ªå®šä¹‰ Adapter æ¥å…¥
- [x] æ”¯æŒ Nativeï¼ˆåŸç”Ÿï¼‰ã€Bannerã€Interstitialã€Rewardedå¹¿å‘Šæ ¼å¼
- [x] è‡ªåŠ¨å¤„ç† Opera SDK çš„çŠ¶æ€æ£€æµ‹ä¸ Mediation å‚æ•°æ³¨å…¥
- [x] æ”¯æŒ CocoaPods ä¸€é”®é›†æˆ

## ğŸ›  å®‰è£…æŒ‡å—

### ä½¿ç”¨ CocoaPods (æ¨è)

åœ¨æ‚¨çš„é¡¹ç›®çš„ `Podfile` ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š

```ruby
source '[https://github.com/CocoaPods/Specs.git]'

target 'YourProjectTarget' do
    # æ·»åŠ  TopOn ä¸» SDK (å¦‚æœæ²¡æœ‰)
    pod 'TPNiOS','6.4.93'

    # æ·»åŠ  Opera èšåˆé€‚é…å™¨
    pod 'TPNOperaSDKAdapter'
end
è¿è¡Œå®‰è£…å‘½ä»¤ï¼š

Bash
pod install
ğŸš€ å¿«é€Ÿå¼€å§‹
1. åˆå§‹åŒ– SDK (Required)

é‡è¦æç¤ºï¼šOpera SDK çš„åˆå§‹åŒ–å¿…é¡»åœ¨å®¿ä¸» App çš„ AppDelegate ä¸­å®Œæˆã€‚Adapter å†…éƒ¨ä¼šç­‰å¾…åˆå§‹åŒ–æˆåŠŸåå†è¿›è¡Œå¹¿å‘ŠåŠ è½½ï¼Œä½†ä¸ä¼šä¸»åŠ¨å‘èµ·åˆå§‹åŒ–ã€‚

è¯·åœ¨ AppDelegate.m ä¸­å¼•å…¥å¤´æ–‡ä»¶å¹¶æ·»åŠ ä»¥ä¸‹åˆå§‹åŒ–ä»£ç ï¼š

Objective-C
#import "AppDelegate.h"
// å¼•å…¥ Opera SDK å¤´æ–‡ä»¶
#import <OpAdxSdk/OpAdxSDK.h>

@implementation AppDelegate

- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {

    // åˆå§‹åŒ– Opera Ads SDK
    [self initOpAdxSDK];

    // åˆå§‹åŒ– TopOn SDK (è¯·ç¡®ä¿ TopOn ä¹Ÿåœ¨æ­¤æ—¶æˆ–ä¹‹ååˆå§‹åŒ–)
    // [ATAPI integrationChecking];
    // [[ATAPI sharedInstance] startWithAppID:@"YOUR_TOPON_APPID" appKey:@"YOUR_TOPON_APPKEY" error:nil];

    return YES;
}

// Opera SDK åˆå§‹åŒ–æ–¹æ³•
- (void)initOpAdxSDK {
    static dispatch_once_t onceToken;
    dispatch_once(&onceToken, ^{
        // è¯·æ›¿æ¢ä¸ºæ‚¨åœ¨ Opera åå°ç”³è¯·çš„ ApplicationId å’Œ iOSAppId
        NSString *applicationId = @"YOUR_OPERA_APPLICATION_ID";
        NSString *iOSAppId = @"YOUR_IOS_APP_ID"; // æ‚¨çš„iOSåº”ç”¨Id

        OpAdxSdkInitConfig *initConfig = [OpAdxSdkInitConfig createWithApplicationId:applicationId
                                                                            iOSAppId:iOSAppId
                                                                       publisherName:nil];

        // åˆå§‹åŒ– OpAdxSDK
        [OpAdxSDK initializeWithConfig:initConfig
                             onSuccess:^{
            NSLog(@"[OpAdxSDK] initializeWithConfig onSuccess");
        }
                               onError:^(NSError *error) {
            NSLog(@"[OpAdxSDK] initializeWithConfig error %@", error);
        }];
    });
}

@end
2. TopOn åå°é…ç½®

è¦åœ¨ TopOn èšåˆç®¡ç†åå°ä¸­å¯ç”¨ Opera å¹¿å‘Šæºï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ·»åŠ  Custom Network (è‡ªå®šä¹‰å¹¿å‘Šå¹³å°)ï¼š

ç™»å½• TopOn å¼€å‘è€…åå°ã€‚

è¿›å…¥ Network -> Custom Networkã€‚

æ·»åŠ ä¸€ä¸ªæ–°çš„è‡ªå®šä¹‰å¹¿å‘Šæºï¼Œå¹¶å¡«å†™ä»¥ä¸‹ Adapter ç±»åä¿¡æ¯ï¼š

å¹¿å‘Šç±»å‹ (Ad Type)    Adapter ç±»å (Class Name)
Native (åŸç”Ÿå¹¿å‘Š)    OpAdxToponNativeAdapter
æ³¨æ„: serverInfo ä¸­çš„å‚æ•°ï¼ˆå¦‚ slot_idï¼‰å°†é€ä¼ ç»™ Adapterï¼Œè¯·ç¡®ä¿åœ¨ TopOn åå°é…ç½®çš„å‚æ•°é”®å€¼ä¸ Opera æä¾›çš„å¹¿å‘Šä½ ID å¯¹åº”ã€‚

âš ï¸ å¸¸è§é—®é¢˜ (FAQ)
Q: ä¸ºä»€ä¹ˆå¹¿å‘ŠåŠ è½½å¤±è´¥ï¼Œæç¤º "OpAdx SDK not initialized"? A: è¯·æ£€æŸ¥æ‚¨æ˜¯å¦åœ¨ AppDelegate ä¸­æ­£ç¡®è°ƒç”¨äº† [OpAdxSDK initializeWithConfig:...]ã€‚Adapter ä¾èµ–å®¿ä¸» App å®Œæˆ SDK çš„åˆå§‹åŒ–ã€‚

Q: éœ€è¦æ‰‹åŠ¨è®¾ç½® Mediation Provider å—ï¼Ÿ A: ä¸éœ€è¦ã€‚TPNOperaSDKAdapter ä¼šåœ¨æ£€æµ‹åˆ° SDK åˆå§‹åŒ–æˆåŠŸåï¼Œè‡ªåŠ¨æ³¨å…¥ TopOn çš„ Mediation æ ‡è¯†ï¼Œæ‚¨åªéœ€å…³æ³¨ä¸šåŠ¡å±‚çš„åˆå§‹åŒ–å³å¯ã€‚
```
